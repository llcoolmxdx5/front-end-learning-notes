# 弹性盒模型

## 1. Flex 布局基本概念

- Flex 布局的好处:
  Flexbox 通常能让我们更好的操作他的子元素布局，例如：
  如果元素容器没有足够的空间，我们无需计算每个元素的宽度，就可以设置他们在同一行；
  可以快速让他们布局在一列； 可以方便让他们对齐容器的左、右、中间等； 无需修改结构就可以改变他们的显示顺序； 如果元素容器设置百分比和视窗大小改变，不用提心未指定元素的确切宽度而破坏布局，因为容器中的每个子元素都可以自动分配容器的宽度或高度的比例。
- display:flex

## 2. Flex 容器属性

1. flex-direction

   指定伸缩容器主轴的伸缩流方向
   这是用来创建方轴，从而定义 Flex 项目在 Flex 容器中放置的方向。Flexbox 是一种单方向的布局概念。认为 Flex 项目主要排列方式要么是水平排列，要么是垂直列排列。

   `flex-direction: row | row-reverse | column | column-reverse;`

   - row(默认值):如果书写方式是 ltr，那么 Flex 项目从左向右排列；如果书写方式是 rtl，那么 Flex 项目从右向左排列
   - row-reverse:如果书写方式是 ltr，那么 Flex 项目从右向左排列；如果书写方式是 rtl，那么 Flex 项目从左向右排列
   - column:和 row 类似，只不过方向是从上到下排列
   - column-reverse:和 row-reverse 类似，只不过方向是从下向上排列

2. flex-wrap

   指定伸缩项目是否沿着侧轴排列

   默认情况之下，Flex 项目都尽可能在一行显示。你可以根据 flex-wrap 的属性值来改变，让 Flex 项目多行显示。方向在这也扮演了一个重要角度，决定新的一行堆放方向。

   `flex-wrap: nowrap | wrap | wrap-reverse;`

   - nowrap(默认值):单行显示，如果书写方式是 ltr，Flex 项目从左向右排列，反之 rtl，从右向左排列
   - wrap:多行显示，如果书写方式是 ltr，Flex 项目从左向右排列，反之 rtl，从右向左排列
   - wrap-reverse:多行显示，如果书写方式是 ltr，Flex 项目从右向左排列，反之 rtl，从左向右排列

3. flex-flow

   适用于 flex 容器元素

   这是 flex-direction 和 flex-wrap 两个属性的缩写。两个属性决定了伸缩容器的主轴与侧轴。默认值是 row nowrap（中间用空格隔开）

4. justify-content

   主轴上对齐伸缩项目

   用于在主轴上对齐伸缩项目。这一行为会在所有可伸缩长度及所有自动边距均被解释后进行。当一行上的所有伸缩项目都不能伸缩或可伸缩但是已经达到其最大长度时，这一属性才会对多余的空间进行分配。当项目溢出某一行时，这一属性也会在项目的对齐上施加一些控制。

   `justify-content: flex-start | flex-end | center | space-between | space-around;`

   - flex-start(默认值):伸缩项目向一行的起始位置靠齐。该行的第一个伸缩项目在主轴起点边的外边距与该行在主轴起点的边对齐，同时所有后续的伸缩项目与其前一个项目对齐。
   - flex-end:伸缩项目向一行的结束位置靠齐。该行的最后一个伸缩项目在主轴终点边的外边距与该行在主轴终点的边对齐，同时所有前面的伸缩项目与其后一个项目对齐。
   - center:伸缩项目向一行的中间位置靠齐。该行的伸缩项目将相互对齐并在行中居中对齐，同时第一个项目与该行在主轴起点的边的距离等同与最后一个项目与该行在主轴终点的边的距离（如果剩余空间是负数，则保持两端溢出的长度相等）。
   - space-between:伸缩项目会平均地分布在行里。如果剩余空间是负数，或该行只有一个伸缩项目，则此值等效于 flex-start。在其它情况下，第一个项目在主轴起点边的外边距会与该行在主轴起点的边对齐，同时最后一个项目在主轴终点边的外边距与该行在主轴终点的边对齐，而剩下的伸缩项目在确保两两之间的空白空间相等下平均分布。
   - space-around:伸缩项目会平均地分布在行里，两端保留一半的空间。如果剩余空间是负数，或该行只有一个伸缩项目，则该值等效于 center。在其它情况下，伸缩项目在确保两两之间的空白空间相等，同时第一个元素前的空间以及最后一个元素后的空间为其他空白空间的一半下平均分布。

5. align-items

   指定伸缩项目沿着侧轴对齐方式

   伸缩项目可以在伸缩容器的当前行的侧轴上进行对齐，这类似于 justify-content 属性，但是是另一个方向。align-items 可以用来设置伸缩容器中包括匿名伸缩项目的所有项目的对齐方式。

   `align-items: flex-start | flex-end | center | baseline | stretch;`

   - flex-start:伸缩项目在侧轴起点边的外边距紧靠住该行在侧轴起始的边。
   - flex-end:伸缩项目在侧轴终点边的外边距靠住该行在侧轴终点的边 。
   - center:伸缩项目的外边距盒在该行的侧轴上居中放置。（如果伸缩行的尺寸小于伸缩项目，则伸缩项目会向两个方向溢出相同的量）。
   - baseline:如果伸缩项目的行内轴与侧轴为同一条，则该值和 flex-start 等效。其它情况下，该值将参与基线对齐。所有参与该对齐方式的伸缩项目将按下列方式排列：首先将这些伸缩项目的基线进行对齐，随后其中基线至侧轴起点边的外边距距离最长的那个项目将紧靠住该行在侧轴起点的边。
   - stretch:如果侧轴长度属性的值为 auto，则此值会使项目的外边距盒的尺寸在遵照 min/max-width/height 属性的限制下尽可能接近所在行的尺寸。

6. align-content

   多根轴线的对齐方式

   当伸缩容器的侧轴还有多余空间时，align-content 属性可以用来调准伸缩行在伸缩容器里的对齐方式，这与调准伸缩项目在主轴上对齐方式的 justify-content 属性类似。

   请注意本属性在只有一行的伸缩容器上没有效果。

   `align-content: flex-start | flex-end | center | space-between | space-around | stretch;`

   - flex-start:各行向伸缩容器的起点位置堆叠。伸缩容器中第一行在侧轴起点的边会紧靠住伸缩容器在侧轴起点的边，之后的每一行都紧靠住前面一行。
   - flex-end:各行向伸缩容器的结束位置堆叠。伸缩容器中最后一行在侧轴终点的边会紧靠住该伸缩容器在侧轴终点的边，之前的每一行都紧靠住后面一行
   - center:各行向伸缩容器的中间位置堆叠。各行两两紧靠住同时在伸缩容器中居中对齐，保持伸缩容器在侧轴起点边的内容边和第一行之间的距离与该容器在侧轴终点边的内容边与第最后一行之间的距离相等。（如果剩下的空间是负数，则行的堆叠会向两个方向溢出的相等距离。)
   - space-between:各行在伸缩容器中平均分布。如果剩余的空间是负数或伸缩容器中只有一行，该值等效于 flex-start。在其它情况下，第一行在侧轴起点的边会紧靠住伸缩容器在侧轴起点边的内容边，最后一行在侧轴终点的边会紧靠住伸缩容器在侧轴终点的内容边，剩余的行在保持两两之间的空间相等的状况下排列。
   - space-around:各行在伸缩容器中平均分布，在两边各有一半的空间。如果剩余的空间是负数或伸缩容器中只有一行，该值等效于 - center。在其它情况下，各行会在保持两两之间的空间相等，同时第一行前面及最后一行后面的空间是其他空间的一半的状况下排列。
   - stretch:各行将会伸展以占用剩余的空间。如果剩余的空间是负数，该值等效于 flex-start。在其它情况下，剩余空间被所有行平分，扩大各行的侧轴尺寸。

   注意：只有多行的伸缩容器才会在侧轴上有多余的空间以供对齐，因为仅包含一行的伸缩容器中，唯一的一行会自动伸展填充全部的空间。

## 3. Flex 项目属性

1. order

   项目流排列顺序

   默认情况，Flex 项目是按文档源的流顺序排列。然而，在 Flex 容器中可以通过 order 属性来控制 Flex 项目的顺序源。
   根据 order 重新排序伸缩项目。有最小（负值最大）order 的伸缩项目排在第一个。若有多个项目有相同的 order 值，这些项目照文件顺序排。这个步骤影响了.伸缩项目生盒树成的盒子的顺序，也影响了后面的演算法如何处理各项目。

2. flex-grow

   Flex 项目的扩大比例

   如果有必要的话，flex-grow 可以定义一个 Flex 项目的扩大比例。它接受一个没有单位的值作为一个比例。它可以使用 Flex 项目完全占用 Flex 容器可用的空间。

   如果所有 Flex 项目的 flex-grow 设置为 1 时，表示 Flex 容器中的 Flex 项目具有相等的尺寸。如果你给其中一个 Flex 项目设置 flex-grow 的值为 2，那么这个 Flex 项目的尺寸将是其他 Flex 项目两倍（其他 Flex 项目的 flex-grow 值为 1）。

   注意：flex-grow 取负值将失效。

3. flex-shrink

   如果有必要，flex-shrink 可以定义 Flex 项目的缩小比例。

   注意：flex-shrink 取负值将失效。

   如果所有项目的 flex-shrink 属性都为 1，当空间不足时，都将等比例缩小。如果一个项目的 flex-shrink 属性为 0，其他项目都为 1，则空间不足时，前者不缩小。

4. flex-basis

   项目占据的主轴空间

   flex-basis 属性定义了 Flex 项目在分配 Flex 容器剩余空间之前的一个默认尺寸。main-size 值使它具有匹配的宽度或高度，不过都需要取决于 flex-direction 的值。

   `flex-basis: | auto; /* default auto */`

   如果设置为 0，内容不在考虑周围额外空间。如果设置为 auto，额外空间会基于 flex-grow 值做分布。

5. flex

   flex 是 flex-grow，flex-shrink 和 flex-basis 三个属性的缩写。第二个和第三个参数(flex-shrink 和 flex-basis)是可选值。其默认值是 0 1 auto。

   `flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]`

   建议您 使用此简写属性，而不是设置单独属性。注意，如果 flex 取值为 none 时，其相当于取值为 0 0 auto。
   请注意 flex-grow 与 flex-basis 的初始值与他们在 flex 缩写被省略时的 默认值不同。这里的设计是为了让 flex 缩写在最常见的情景下比较好用

   flex 常见值

   - flex: 0 auto,flex: initial 与 flex: 0 1 auto 相同。（这也就是初始值。）根据 width／height 属性决定元素的尺寸。（如果项目的主轴长度属性的计算值为 auto，则会根据其内容来决定元素尺寸。）当剩余空间为正值时，伸缩项目无法伸缩，但当空间不足时，伸缩项目可收缩至其最小值。网页作者可以用对齐相关的属性以及 margin 属性的 auto 值控制伸缩项目沿着主轴的对齐方式。
   - flex: auto 与 flex: 1 1 auto 相同。根据 width／height 属性决定元素的尺寸，但是完全可以伸缩，会吸收主轴上剩下的空间。如果所有项目均为 flex: auto、flex: initial 或 flex: none，则在项目尺寸决定后，剩余的正空间会被平分给是 flex: auto 的项目。
   - flex: none 与 flex: 0 0 auto 相同。根据 width／height 属性决定元素的尺寸，但是完全不可伸缩。其效果与 initial 类似，但即使在空间不够而溢出的情况下，伸缩项目也不能收缩。
   - flex: 与 flex: 1 0px 相同。该值使元素可伸缩，并将伸缩基准值设置为零，导致该项目会根据设置的比率占用伸缩容器的剩余空间。如果一个伸缩容器里的所有项目都使用此模式，则它们的尺寸会正比于指定的伸缩比率。

6. align-self

   align-self 则用来在单独的伸缩项目上覆写默认的对齐方式。（对于匿名伸缩项目，align-self 的值永远与其关联的伸缩容器的 align-items 的值相同。）

   `align-self: auto | flex-start | flex-end | center | baseline | stretch;`

   若伸缩项目的任一个侧轴上的外边距为 auto，则 align-self 没有效果。

   如果 align-self 的值为 auto，则其计算值为元素的父元素的 align-items 值，如果该元素没有父元素，则计算值为 stretch。对齐属性值的定义如下：

   - flex-start:伸缩项目在侧轴起点边的外边距紧靠住该行在侧轴起始的边。
   - flex-end:伸缩项目在侧轴终点边的外边距靠住该行在侧轴终点的边 。
   - center:伸缩项目的外边距盒在该行的侧轴上居中放置。（如果伸缩行的尺寸小于伸缩项目，则伸缩项目会向两个方向溢出相同的量）。
   - baseline:如果伸缩项目的行内轴与侧轴为同一条，则该值和 flex-start 等效。其它情况下，该值将参与基线对齐。所有参与该对齐方式的伸缩项目将按下列方式排列：首先将这些伸缩项目的基线进行对齐，随后其中基线至侧轴起点边的外边距距离最长的那个项目将紧靠住该行在侧轴起点的边。
   - stretch:如果侧轴长度属性的值为 auto，则此值会使项目的外边距盒的尺寸在遵照 min/max-width/height 属性的限制下尽可能接近所在行的尺寸。

   注意：如果伸缩伸缩的高度有限制，此可能导致伸缩项目的内容溢出该项目。

## 4. 常用应用（居中对齐，自适应导航，移动优先布局）

- 居中对齐
- 自适应导航
- 移动优先布局

## 代码展示

```css
.parent {
  display: flex;
  width: 100%;
  height: 400px;
  background-color: rgba(255, 255, 0, 0.2);
  /* 子元素竖排 */
  /* flex-direction: column; */
  /* 排不下时换行 */
  /* flex-wrap: wrap; */
  /* 以上两个的缩写 */
  /* flex-flow: row nowrap; */
  /* 沿主轴对齐方式（水平）
  伸缩项目向一行的中间位置靠齐。该行的伸缩项目将相互对齐并在行中居中对齐，
  同时第一个项目与该行在主轴起点的边的距离等同与最后一个项目与该行在主轴终点的边的距离
  （如果剩余空间是负数，则保持两端溢出的长度相等） */
  justify-content: center;
  /* 沿侧轴对齐方式（竖直） 类似justify-content */
  align-items: center;
}
.div1 {
  width: 30%;
  /* 扩大比例 所有Flex项目的flex-grow设置为1时，表示Flex容器中的Flex项目具有相等的尺寸 */
  /* flex-grow: 0.3; */
  /* 缩小比例,当被外容器挤压缩小时,设置为1和其他项目同等缩放,为0时不缩小 */
  /* flex-shrink: 1; */
  /* flex-basis属性定义了Flex项目在分配Flex容器剩余空间之前的一个默认尺寸。
  如果设置为0，内容不在考虑周围额外空间。如果设置为auto，额外空间会基于flex-grow值做分布。*/
  /* flex-basis: auto; */
  /* flex是flex-grow，flex-shrink和flex-basis三个属性的缩写。
  第二个和第三个参数(flex-shrink和flex-basis)是可选值。其默认值是0 1 auto。 */
  /* flex: 0 1 auto; */
  /* 单独的伸缩项目上覆写默认的对齐方式 */
  /* align-self: flex-start; */
}
.div2 {
  width: 10%;
  /* flex-shrink: 1; */
}
.div3 {
  width: 40%;
  /* flex-shrink: 1; */
}
.div4 {
  width: 20%;
  /* flex-shrink: 1; */
}
.div5 {
  width: 20%;
  /* flex-shrink: 1; */
}
```
