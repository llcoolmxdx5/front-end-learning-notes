# [90.子集II](https://leetcode-cn.com/problems/subsets-ii/)

## 题目

给你一个整数数组 `nums` ，其中可能包含重复元素，请你返回该数组所有可能的子集（幂集）。

解集**不能**包含重复的子集。返回的解集中，子集可以按**任意顺序**排列。

示例 1：

```txt
输入：nums = [1,2,2]
输出：[[],[1],[1,2],[1,2,2],[2],[2,2]]
```

示例 2：

```txt
输入：nums = [0]
输出：[[],[0]]
```

提示：

- `1 <= nums.length <= 10`
- `-10 <= nums[i] <= 10`

## 难度

中等

## 标签

位运算 数组 回溯

## 解题思路

回溯

1. 排序 不排序的话会将 `[1,2,2]` 与 `[2,2,1]` 认为是不同的数组
2. 建立一个 `set` 用于记录有的子集 便于去重
3. 回溯 与 78题 子集解法一致

复杂度分析

- 时间复杂度：`O(n×2^n)`，其中 `n` 是数组 `nums` 的长度。排序的时间复杂度为 `O(nlogn)`。最坏情况下 `nums` 中无重复元素，需要枚举其所有 `2^n` 个子集，每个子集加入答案时需要拷贝一份，`O(n)`，一共需要 `O(n×2^n)+O(n)=O(n×2^n)` 的时间来构造子集。由于在渐进意义上 `O(nlogn)` 小于 `O(n×2^n)`，故总的时间复杂度为 `O(n×2^n)`。
- 空间复杂度：`O(n)`。临时数组 `temp` 的空间代价是 `O(n)`，递归时栈空间的代价为 `O(n)`, 去重使用的集合 `set` 空间代价为 `O(n)`。

## 提交速度

- 执行用时：`64 ms`, 在所有 JavaScript 提交中击败了`99.04%`的用户
- 内存消耗：`39.9 MB`, 在所有 JavaScript 提交中击败了`39.40%`的用户
