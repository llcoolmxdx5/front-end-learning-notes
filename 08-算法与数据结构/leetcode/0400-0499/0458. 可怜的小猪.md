# [458. 可怜的小猪](https://leetcode-cn.com/problems/poor-pigs/)

## 题目

有 `buckets` 桶液体，其中**正好**有一桶含有毒药，其余装的都是水。它们从外观看起来都一样。为了弄清楚哪只水桶含有毒药，你可以喂一些猪喝，通过观察猪是否会死进行判断。不幸的是，你只有 `minutesToTest` 分钟时间来确定哪桶液体是有毒的。

喂猪的规则如下：

1. 选择若干活猪进行喂养
2. 可以允许小猪同时饮用任意数量的桶中的水，并且该过程不需要时间。
3. 小猪喝完水后，必须有 `minutesToDie` 分钟的冷却时间。在这段时间里，你只能观察，而不允许继续喂猪。
4. 过了 `minutesToDie` 分钟后，所有喝到毒药的猪都会死去，其他所有猪都会活下来。
5. 重复这一过程，直到时间用完。

给你桶的数目 `buckets` ，`minutesToDie` 和 `minutesToTest` ，返回在规定时间内判断哪个桶有毒所需的**最小**猪数。

示例 1：

```txt
输入：buckets = 1000, minutesToDie = 15, minutesToTest = 60
输出：5
```

示例 2：

```txt
输入：buckets = 4, minutesToDie = 15, minutesToTest = 15
输出：2
```

示例 3：

```txt
输入：buckets = 4, minutesToDie = 15, minutesToTest = 30
输出：2
```

提示：

- `1 <= buckets <= 1000`
- `1 <= minutesToDie <= minutesToTest <= 100`

## 难度

困难

## 标签

数学 动态规划 组合数学

## 解题思路

特别经典的一道题，1024 个桶里，有一个有毒，十个小白鼠可以做测试，怎么一次找到有毒的那个

1. 将 0~1023 写成二进制，最多是十位，每个小白鼠喝所有某一位为 1 的（一鼠一位）
2. 最终要找的那个就是所有死的小白鼠的位为 1，其他位为 0
3. 我们知道十只小白鼠一次可以试出 2^10 个桶，如果是两次呢？
4. 其实两次可以看成三进制，每个小白鼠可以在两轮内试出某一位是 0 还是 1 还是 2
5. 第一次死就是那一位为 1，第二次是那一次为 2，没死就是那一位为 0
6. 这样来看的话，
7. x 轮就该转换成(x+1)进制, 我们要找 buckets 在 x+1 进制下是几位，就是我们至少需要的小白鼠个数了

复杂度分析

- 时间复杂度：`O(1)`。
- 空间复杂度：`O(1)`。

## 提交速度

- 执行用时：`56 ms`, 在所有 JavaScript 提交中击败了`100.00%`的用户
- 内存消耗：`37.7 MB`, 在所有 JavaScript 提交中击败了`20.00%`的用户
