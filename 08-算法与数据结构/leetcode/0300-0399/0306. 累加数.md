# [306. 累加数](https://leetcode-cn.com/problems/additive-number/)

## 题目

**累加数**是一个字符串，组成它的数字可以形成累加序列。

一个有效的**累加序列**必须**至少**包含 3 个数。除了最开始的两个数以外，字符串中的其他数都等于它之前两个数相加的和。

给你一个只包含数字 `'0'-'9'` 的字符串，编写一个算法来判断给定输入是否是**累加数**。如果是，返回 `true` ；否则，返回 `false` 。

说明：累加序列里的数**不会**以 0 开头，所以不会出现 `1, 2, 03` 或者 `1, 02, 3` 的情况。

示例 1：

```txt
输入："112358"
输出：true
解释：累加序列为: 1, 1, 2, 3, 5, 8 。1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8
```

示例 2：

```txt
输入："199100199"
输出：true
解释：累加序列为: 1, 99, 100, 199。1 + 99 = 100, 99 + 100 = 199
```

提示：

- `1 <= num.length <= 35`
- `num` 仅由数字（`0 - 9`）组成

进阶：你计划如何处理由过大的整数输入导致的溢出?

## 难度

中等

## 标签

字符串 回溯

## 解题思路

### 方法一：穷举累加序列第一个数字和第二个数字的所有可能性

一个累加序列，当它的第一个数字和第二个数字以及总长度确定后，这整个累加序列也就确定了。根据这个性质，我们可以穷举累加序列的第一个数字和第二个数字的所有可能性，对每个可能性，进行一次合法性的判断。当出现一次合法的累加序列后，即可返回 `true`。当所有可能性都遍历完仍无法找到一个合法的累加序列时，返回 `false`。

仍需要注意的是，当某个数字长度大于等于 2 时，这个数字不能以 0 开头，这部分的判断可以在两层循环体的开头完成。

复杂度分析

- 时间复杂度：`O(n^3)`，其中 `n` 为字符串 `num` 的长度。需要两层循环来遍历第二个数字的起始位置和结束位置，每个这样的组合又需要 `O(n)` 来验证合法性。
- 空间复杂度：`O(n)`，其中 `n` 为字符串 `num` 的长度。在做字符串加法的时候需要 `O(n)` 的空间来保存结果。

## 提交速度

- 执行用时：`72 ms`, 在所有 JavaScript 提交中击败了 `59.76%` 的用户
- 内存消耗：`37.8 MB`, 在所有 JavaScript 提交中击败了 `65.85%` 的用户
