# [301. 删除无效的括号](https://leetcode-cn.com/problems/remove-invalid-parentheses/)

## 题目

给你一个由若干括号和字母组成的字符串`s`，删除最小数量的无效括号，使得输入的字符串有效。

返回所有可能的结果。答案可以按**任意顺序**返回。

示例 1：

```txt
输入：s = "()())()"
输出：["(())()","()()()"]
```

示例 2：

```txt
输入：s = "(a)())()"
输出：["(a())()","(a)()()"]
```

示例 3：

```txt
输入：s = ")("
输出：[""]
```

提示：

- `1 <= s.length <= 25`
- `s` 由小写英文字母以及括号 `'('` 和 `')'` 组成
- `s` 中至多含 20 个括号

## 难度

困难

## 标签

广度优先搜索 字符串 回溯

## 解题思路

### 方法一：回溯 + 剪枝

### 方法二：广度优先搜索

注意到题目中要求最少删除，这样的描述正是广度优先搜索算法应用的场景，并且题目也要求我们输出所有的结果。我们在进行广度优先搜索时每一轮删除字符串中的 1 个括号，直到出现合法匹配的字符串为止，此时进行轮转的次数即为最少需要删除括号的个数。

我们进行广度优先搜索时，每次保存上一轮搜索的结果，然后对上一轮已经保存的结果中的每一个字符串尝试所有可能的删除一个括号的方法，然后将保存的结果进行下一轮搜索。在保存结果时，我们可以利用哈希表对上一轮生成的结果去重，从而提高效率

复杂度分析

- 时间复杂度：`O(n×2^n)`，其中 `n` 为字符串的长度。考虑到一个字符串最多可能有 `2^n` 个子序列，因此时间复杂度为 `O(n×2^n)`。

- 空间复杂度：`O(n×C_(n/2)^n)`，其中 n 为字符串的长度。我们在进行第 `i` 轮迭代时，会从原始字符串中删除 `i` 个括号，因此第 `i` 轮迭代产生的字符串最多有 `C_n^i` 个，当 `i =n/2` 时组合数最大，此时迭代生成的字符串个数最多，因此空间复杂度为 `O(n×C_(n/2)^n)`。

## 提交速度

- 执行用时：`128 ms`, 在所有 JavaScript 提交中击败了 `75.89%` 的用户
- 内存消耗：`44.9 MB`, 在所有 JavaScript 提交中击败了 `23.41%` 的用户
