# [260. 只出现一次的数字 III](https://leetcode-cn.com/problems/single-number-iii/)

## 题目

给定一个整数数组 `nums`，其中恰好有两个元素只出现一次，其余所有元素均出现两次。 找出只出现一次的那两个元素。你可以按**任意顺序**返回答案。

进阶：你的算法应该具有线性时间复杂度。你能否仅使用常数空间复杂度来实现？

示例 1：

```txt
输入：nums = [1,2,1,3,2,5]
输出：[3,5]
解释：[5, 3] 也是有效的答案。
```

示例 2：

```txt
输入：nums = [-1,0]
输出：[-1,0]
```

示例 3：

```txt
输入：nums = [0,1]
输出：[1,0]
```

提示：

- `2 <= nums.length <= 3 * 104`
- `-2^31 <= nums[i] <= 2^31 - 1`
- 除两个只出现一次的整数外，`nums` 中的其他数字都出现两次

## 难度

中等

## 标签

位运算 数组

## 解题思路

### 哈希表

复杂度分析

- 时间复杂度：`O(n)`
- 空间复杂度：`O(n)`

### 位运算

把 `nums` 中的所有元素全部异或起来最终的结果就只剩下 `x1` 和 `x2` 的异或和
​
可以使用位运算 `x & -x` 取出 `x` 的二进制表示中最低位那个 1，设其为第 `l` 位，那么 `x1` 和 `x2` 中的某一个数的二进制表示的第 `l` 位为 0，另一个数的二进制表示的第 `l` 位为 1。在这种情况下，`x1 ⊕ x2` 的二进制表示的第 `l` 位才能为 1。

这样一来，我们就可以把 `nums` 中的所有元素分成两类，其中一类包含所有二进制表示的第 `l` 位为 0 的数，另一类包含所有二进制表示的第 `l` 位为 1 的数。可以发现：

- 对于任意一个在数组 `nums` 中出现两次的元素，该元素的两次出现会被包含在同一类中；
- 对于任意一个在数组 `nums` 中只出现了一次的元素，即 `x1` 和 `x2`，它们会被包含在不同类中。

因此，如果我们将每一类的元素全部异或起来，那么其中一类会得到 `x1`，另一类会得到 `x2`。这样我们就找出了这两个只出现一次的元素。

复杂度分析

- 时间复杂度：`O(n)`
- 空间复杂度：`O(1)`

## 提交速度

- 执行用时：`72 ms`, 在所有 JavaScript 提交中击败了 `82.62%` 的用户
- 内存消耗：`40.4 MB`, 在所有 JavaScript 提交中击败了 `43.30%` 的用户
