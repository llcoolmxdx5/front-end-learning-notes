# [598. 范围求和 II](https://leetcode-cn.com/problems/range-addition-ii/)

## 题目

给定一个初始元素全部为  0，大小为 `m*n` 的矩阵  `M`  以及在  `M`  上的一系列更新操作。

操作用二维数组表示，其中的每个操作用一个含有两个正整数  `a` 和 `b` 的数组表示，含义是将所有符合  `0 <= i < a` 以及 `0 <= j < b` 的元素  `M[i][j]`  的值都增加 1。

在执行给定的一系列操作后，你需要返回矩阵中含有最大整数的元素个数。

示例 1:

```txt
输入:
m = 3, n = 3
operations = [[2,2],[3,3]]
输出: 4
解释:
初始状态, M =
[[0, 0, 0],
 [0, 0, 0],
 [0, 0, 0]]

执行完操作 [2,2] 后, M =
[[1, 1, 0],
 [1, 1, 0],
 [0, 0, 0]]

执行完操作 [3,3] 后, M =
[[2, 2, 1],
 [2, 2, 1],
 [1, 1, 1]]

M 中最大的整数是 2, 而且 M 中有4个值为2的元素。因此返回 4。
```

注意:

- `m` 和 `n` 的范围是  `[1,40000]`。
- `a` 的范围是 `[1,m]`，`b` 的范围是 `[1,n]`。
- 操作数目不超过 10000。

## 难度

简单

## 标签

数组 数学

## 解题思路

### 维护所有操作的交集

对于每一次操作，给定 `(a, b)`，我们会将矩阵中所有满足 `0≤i<a` 以及 `0≤j<b` 的位置 `(i, j)` 全部加上 1。由于 `a, b` 均为正整数，那么 `(0, 0)` 总是满足上述条件，并且最终位置 `(0, 0)` 的值就等于操作的次数。

因此，我们的任务即为找出矩阵中所有满足要求的次数恰好等于操作次数的位置。

假设操作次数为 `k` 我们只需要求出 `a` 和 `b` 中的最小值，分别记为 `minA` 和 `minB`，一共有 `minA * minB` 对

复杂度分析

- 时间复杂度：`O(k)`，其中 `k` 是数组 `ops` 的长度。
- 空间复杂度：`O(1)`。

## 提交速度

- 执行用时：`76 ms`, 在所有 `JavaScript` 提交中击败了 `49.57%` 的用户
- 内存消耗：`39.4 MB`, 在所有 `JavaScript` 提交中击败了 `73.50%` 的用户
