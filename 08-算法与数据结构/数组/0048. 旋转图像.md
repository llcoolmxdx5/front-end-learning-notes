# [48. 旋转图像](https://leetcode-cn.com/problems/rotate-image/)

## 题目

给定一个 `n × n` 的二维矩阵  `matrix` 表示一个图像。请你将图像顺时针旋转 90 度。

你必须在**原地**旋转图像，这意味着你需要直接修改输入的二维矩阵。**请不要**使用另一个矩阵来旋转图像。

示例 1：

```txt
输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[[7,4,1],[8,5,2],[9,6,3]]
```

示例 2：

![42-mat2](./imgs/42-mat2.jpeg)

```txt
输入：matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]
输出：[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]
```

提示：

- `n == matrix.length == matrix[i].length`
- `1 <= n <= 20`
- `-1000 <= matrix[i][j] <= 1000`

## 难度

中等

## 标签

数组 数学 矩阵

## 解题思路

### 方法一：使用辅助数组

需要使用一个和 `matrix` 大小相同的辅助数组, 不符合要求

`matrix_new[col][n - row - 1] = matrix[row][col];`, `matrix[i][j] = matrix_new[i][j];`

### 方法二：自外向内顺时针循环

自外向内一共有不超过 `n / 2` 层（单个中心元素不算一层）矩形框。对于第 `times` 层矩形框，其框边长 `len = n - (times * 2)`，将其顺时针分为 4 份的边，对四条边进行元素的循环交换即可。

### 方法三：用翻转代替旋转

先将其通过水平轴翻转, 再根据主对角线翻转就得到了答案。这是为什么呢？对于水平轴翻转而言，我们只需要枚举矩阵上半部分的元素，和下半部分的元素进行交换，即 `swap(matrix[n - row - 1][col], matrix[row][col])` ，对于主对角线翻转而言，我们只需要枚举对角线左侧的元素，和右侧的元素进行交换, 即 `swap(matrix[row][col], matrix[col][row])`

联立得 `matrix[col][n - row - 1] = matrix[n - row - 1][col] = matrix[row][col]` 与 方法一中关键等式一致

## 提交速度

- 执行用时：`72 ms`, 在所有 JavaScript 提交中击败了`53.45%`的用户
- 内存消耗：`41.4 MB`, 在所有 JavaScript 提交中击败了`9.43%`的用户
