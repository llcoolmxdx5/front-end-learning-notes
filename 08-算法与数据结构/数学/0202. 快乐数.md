# [202. 快乐数](https://leetcode-cn.com/problems/happy-number/)

## 题目

编写一个算法来判断一个数 `n` 是不是快乐数。

「快乐数」定义为：

- 对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。
- 然后重复这个过程直到这个数变为 1，也可能是**无限循环**但始终变不到 1。
- 如果**可以变为** 1，那么这个数就是快乐数。

如果 `n` 是快乐数就返回 `true` ；不是，则返回 `false` 。

示例 1：

```txt
输入：n = 19
输出：true
解释：
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
```

示例 2：

```txt
输入：n = 2
输出：false
```

提示：

- `1 <= n <= 2^31 - 1`

## 难度

简单

## 标签

哈希表 数学 双指针

## 解题思路

### 方法一：用哈希集合检测循环

复杂度分析

- 时间复杂度: `O(logn)`
- 空间复杂度：`O(logn)`

### 方法二：快慢指针法

可以近似的认为生成的数是一个链表,转化为判断是否有环

复杂度分析

- 时间复杂度: `O(logn)`
- 空间复杂度：`O(1)`

### 方法三：数学

会发现只有一个循环：4 → 16 → 37 → 58 → 89 → 145 → 42 → 20 → 4。所有其他数字都在进入这个循环的链上，或者在进入 1 的链上。

复杂度分析

- 时间复杂度: `O(logn)`
- 空间复杂度：`O(1)`

## 提交速度

- 执行用时：`68 ms`, 在所有 JavaScript 提交中击败了 `95.62%` 的用户
- 内存消耗：`39.4 MB`, 在所有 JavaScript 提交中击败了 `66.67%` 的用户
